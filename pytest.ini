[pytest]
# Terminal output
console_output_style = progress

# Combined addopts for comprehensive testing with ThreadReaper support
addopts = -v --tb=short --strict-markers --disable-warnings

# Exit on first failure (helps identify problematic tests)
#addopts = -xvs

# Log level
log_cli = True
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s

# Cache settings
cache_dir = .pytest_cache

# Reuse fixtures to avoid recreating resources
#fixture_reuse = session

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning:cheroot.test.webtest
    ignore:.*WEBTEST_INTERACTIVE.*:DeprecationWarning

# Add markers for test types
markers =
    threadreaper: mark test to use ThreadReaper infrastructure
    no_threadreaper: mark test to skip ThreadReaper (for special cases)
    integration: mark test as integration test requiring external resources
    webui_timeout: mark test as web UI test with enhanced timeout protection
